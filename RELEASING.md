# Releasing

1. Checkout the `dev` branch.

2. If changes intended for release exist in branches other than `dev`, merge them into `dev`.

3. Run `kurisu check` and fix anything it complains about.

4. Start 3515.games.dev via [`src/main.py`](src/main.py) and then via [`dockerfile.sh`](dockerfile.sh)
   Ensure the bot successfully starts, runs, and responds to user interaction, then stop it.

5. Commit any uncommitted changes to `dev`.

6. Create a new **pre**-release on GitHub with `gh release create`. The release tag **must** be the new version number
   _exactly_ as it appears in [`pyproject.toml`](pyproject.toml). Use the release notes generated by
   `kurisu notes`. **It is very important that you mark it as a pre-release!**

7. Push the `dev` branch to GitHub.

8. Open a pull request from `dev` to `main`. If there are no conflicts (and there better not be), merge it.

9. Place 3515.games in maintenance mode.

10. When you're ready to go live, publish the pre-release you created in step 12 and create a new deployment
    on [Railway](https://railway.app).
